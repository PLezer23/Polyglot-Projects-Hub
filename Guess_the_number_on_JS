const readline = require('readline');

const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–≤–æ–¥–∞ (–≤–º–µ—Å—Ç–æ prompt)
function questionAsync(promptText) {
    return new Promise((resolve) => {
        rl.question(promptText, resolve);
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á–∏—Å–ª–∞
function generation(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

// –ò–≥—Ä–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
async function playGameEnglish() {
    console.log("\nWelcome to the game guess the number");
    console.log("The rules are as follows:");
    console.log("The computer guesses one number from 1 to 100");
    console.log("Your task is to guess this number");
    console.log("The computer will give you hints\n");

    // –°–ø—Ä–∞—à–∏–≤–∞–µ–º, –≥–æ—Ç–æ–≤ –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–≥—Ä–∞—Ç—å
    const confirm = await questionAsync("Are you ready to play? yes or no?\n");

    // –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ "yes", –∑–∞–≤–µ—Ä—à–∞–µ–º –∏–≥—Ä—É
    if (confirm.toLowerCase() !== 'yes') {
        console.log("Goodbye!");
        return false; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º false, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–≥—Ä—É
    }

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100
    const the_hidden_number = generation(1, 100);
    console.log("\nYou have started the game");
    console.log("The number is guessed, the game begins, start typing\n");

    let pop = null; // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏–≥—Ä—ã
    while (pop !== the_hidden_number) {
        const answer = await questionAsync("Your number: ");
        pop = parseInt(answer); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤–≤–æ–¥ –≤ —á–∏—Å–ª–æ

        // –î–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        if (pop < the_hidden_number) {
            console.log("Your number is less than the desired one");
        } else if (pop > the_hidden_number) {
            console.log("Your number is higher than the number you were wondering about");
        } else {
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≥–∞–¥–∞–ª —á–∏—Å–ª–æ
            console.log("Congratulations!üéâ You guessed the number: " + the_hidden_number);
            break; // –í—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
        }
    }

    // –°–ø—Ä–∞—à–∏–≤–∞–µ–º, —Ö–æ—á–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ
    const replay = await questionAsync("Do you want to play more? (yes/no): ");

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true/false –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ç–≤–µ—Ç–∞
    if (replay.toLowerCase() === 'yes') {
        console.log("\nA new game has begun");
        return true; // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É
    } else {
        console.log("Goodbye!");
        return false; // –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É
    }
}

// –ò–≥—Ä–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
async function playGameRussian() {
    console.log("\n–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∞—Å –≤ –∏–≥—Ä–µ —É–≥–∞–¥–∞–π —á–∏—Å–ª–æ");
    console.log("–ü—Ä–∞–≤–∏–ª–∞ —Ç–∞–∫–æ–≤—ã:");
    console.log("–ö–æ–º–ø—å—é—Ç–µ—Ä –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç –æ–¥–Ω–æ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100");
    console.log("–í–∞—à–∞ –∑–∞–¥–∞—á–∞ —É–≥–∞–¥–∞—Ç—å —ç—Ç–æ —á–∏—Å–ª–æ");
    console.log("–ö–æ–º–ø—å—é—Ç–µ—Ä –±—É–¥–µ—Ç –¥–∞–≤–∞—Ç—å –≤–∞–º –ø–æ–¥—Å–∫–∞–∑–∫–∏\n");

    // –°–ø—Ä–∞—à–∏–≤–∞–µ–º, –≥–æ—Ç–æ–≤ –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–≥—Ä–∞—Ç—å
    const confirm = await questionAsync("–ì–æ—Ç–æ–≤—ã –ª–∏ –≤—ã –∏–≥—Ä–∞—Ç—å? –¥–∞ –∏–ª–∏ –Ω–µ—Ç?\n");

    // –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ "–¥–∞", –∑–∞–≤–µ—Ä—à–∞–µ–º –∏–≥—Ä—É
    if (confirm.toLowerCase() !== '–¥–∞') {
        console.log("–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!");
        return false; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º false, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–≥—Ä—É
    }

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100
    const the_hidden_number = generation(1, 100);
    console.log("\n–í—ã –Ω–∞—á–∞–ª–∏ –∏–≥—Ä—É");
    console.log("–ß–∏—Å–ª–æ –∑–∞–≥–∞–¥–∞–Ω–æ, –∏–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è, –Ω–∞—á–∏–Ω–∞–π—Ç–µ –≤–≤–æ–¥–∏—Ç—å\n");

    let pop = null; // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏–≥—Ä—ã
    while (pop !== the_hidden_number) {
        const answer = await questionAsync("–í–∞—à–µ —á–∏—Å–ª–æ: ");
        pop = parseInt(answer); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤–≤–æ–¥ –≤ —á–∏—Å–ª–æ

        // –î–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        if (pop < the_hidden_number) {
            console.log("–í–∞—à–µ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–≥–æ");
        } else if (pop > the_hidden_number) {
            console.log("–í–∞—à–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–≥–æ");
        } else {
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≥–∞–¥–∞–ª —á–∏—Å–ª–æ
            console.log("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é!üéâ –í—ã —É–≥–∞–¥–∞–ª–∏ —á–∏—Å–ª–æ: " + the_hidden_number);
            break; // –í—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
        }
    }

    // –°–ø—Ä–∞—à–∏–≤–∞–µ–º, —Ö–æ—á–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ
    const replay = await questionAsync("–•–æ—Ç–∏—Ç–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ? (–¥–∞/–Ω–µ—Ç): ");

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true/false –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ç–≤–µ—Ç–∞
    if (replay.toLowerCase() === '–¥–∞') {
        console.log("\n–ù–æ–≤–∞—è –∏–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å");
        return true; // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É
    } else {
        console.log("–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!");
        return false; // –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É
    }
}

// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
async function main() {
    // –í—ã–±–æ—Ä —è–∑—ã–∫–∞
    console.log("–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —è–∑—ã–∫ / choose your language");
    console.log("1 - English");
    console.log("2 - –†—É—Å—Å–∫–∏–π");

    // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const choice = await questionAsync("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä / Enter number: ");

    let playAgain = true; // –§–ª–∞–≥ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∏–≥—Ä—ã

    // –ì–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
    while (playAgain) {
        if (choice === '1') {
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
            playAgain = await playGameEnglish();
        } else if (choice === '2') {
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É –Ω–∞ —Ä—É—Å—Å–∫–æ–º
            playAgain = await playGameRussian();
        } else {
            // –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä —è–∑—ã–∫–∞
            console.log("–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä / Invalid choice");
            break; // –í—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
        }

        // –ï—Å–ª–∏ –∏–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è, –¥–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
        if (playAgain) {
            console.log("\n" + "=".repeat(50) + "\n");
        }
    }

    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å readline
    rl.close();
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É
main();
